<input nbInput [nbFilterInput]="dataSource">

<table nbTreeGrid [nbSort]="dataSource" [source]="dataSource">

  <tr nbHeaderRow *nbHeaderRowDef="columnsToDisplay"></tr>
  <tr nbTreeGridRow *nbRowDef="let row; columns: columnsToDisplay"></tr>

  <ng-container nbColumnDef="name">
    <th nbTreeGridHeaderCell nbSortHeader="asc" *nbHeaderCellDef>Name</th>
    <td nbTreeGridCell *nbCellDef="let row">
      <button *ngIf="row.hasChildren()"
              nbTreeGridRowToggle
              [attr.aria-label]="row.expanded ? 'collapse' : 'expand'">
        <i [class.nb-arrow-right]="!row.expanded" [class.nb-arrow-down]="row.expanded" aria-hidden="true"></i>
      </button>
      {{ row.data.name }}
    </td>
  </ng-container>

  <ng-container *ngFor="let column of defaultColumns" [nbColumnDef]="column">
    <th nbTreeGridHeaderCell nbSortHeader="desc" *nbHeaderCellDef>{{ column }}</th>
    <td nbTreeGridCell *nbCellDef="let row">{{ row.data[column] }}</td>
  </ng-container>

</table>
